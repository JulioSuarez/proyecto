let n=document.getElementById("ia_video"),_=document.getElementById("ip_mensaje"),h=document.getElementById("butom_ia"),t=document.getElementById(" bt_mostrar_video"),r=0,l="",m="";const a="Y29raWtpNzA0MUBidXN0YXllcy5jb20:aC2rsfK9WxHjgWKhvJK2c",u="https://imgfz.com/i/QgIHbXC.jpeg";h.addEventListener("click",async function(){console.log("hola");let e="",d="";r==0?(e="es-MX-GerardoNeural",d=u):(e="es-MX-DaliaNeural",d=u);const p={script:{type:"text",input:_.value,provider:{type:"microsoft",voice_id:e,voice_config:{style:"Cheerful"}}},config:{stitch:!0,driver_expressions:{expressions:[{start_frame:0,expression:"surprise",intensity:1}]}},source_url:d};t.classList.remove("hidden"),t.value="Cargando...",await fetch("https://api.d-id.com/talks",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+a},body:JSON.stringify(p)}).then(o=>o.json()).then(async o=>{console.log("entee a response"),console.log(o),l=o.id,console.log("id_video:",l),t.value="Procesando...",await fetch("https://api.d-id.com/talks/"+l,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+a}}).then(i=>i.json()).then(i=>{t.value="Mostrar video!!",t.classList.remove("disabled")}).catch(i=>{console.log("entre al error en el 1er post:",i)})}).catch(o=>{console.log("entre al error:",o)}),console.log("fin xd xd")});let c=["{{ asset('/videos/video_prueba.mp4')  }}","{{ asset('/videos/video1.mp4')  }}","{{ asset('/videos/video2.mp4')  }}","{{ asset('/videos/video3.mp4')  }}"],s=0,v=document.getElementById("img_hombre"),g=document.getElementById("img_mujer");document.getElementById("bt_hombre").addEventListener("click",function(){console.log("click en hombre"),r=0,g.classList.remove("border-blue-600"),v.classList.add("border-blue-600")});document.getElementById("bt_mujer").addEventListener("click",function(){console.log("click en mujer"),r=1,v.classList.remove("border-blue-600"),g.classList.add("border-blue-600")});document.getElementById("bt_pause").addEventListener("click",function(){console.log("click en pause"),n.pause()});document.getElementById("bt_play").addEventListener("click",function(){console.log("click en PLAY"),s>=c.length&&(s=0),console.log(c[s]);let e=document.getElementById("video_src");e.scr=c[s],n.play()});n.addEventListener("play",function(){console.log("se incio el video")});n.addEventListener("ended",function(){console.log("se termino de reproducir el video")});t.addEventListener("click",async function(){console.log("click en mostrar video"),await fetch("https://api.d-id.com/talks/"+l,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+a}}).then(e=>e.json()).then(e=>{console.log("respuesta:",e.status),e.status=="done"?(m=e.result_url,console.log("mp4_video:",m),n.src=e.result_url,n.classList.remove("hidden"),document.getElementById("xdxd").classList.add("hidden")):console.warn("EL VIDEO SIGUE EN PROCESO")}),console.log("termine de cargar")});document.getElementById("ai_video2");ia_video2.addEventListener("play",function(){console.log("se incio el video")});ia_video2.addEventListener("ended",function(){console.log("se termino de reproducir el video")});
